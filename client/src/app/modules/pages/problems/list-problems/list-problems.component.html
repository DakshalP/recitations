<div class="page">
  <ng-container
    *ngIf="!isLoading && !course">
    <h4>Not Found</h4>
  </ng-container>
  <ng-container *ngIf="course">

    <div class="divider-sm"></div>
    <div class="container">
      <div class="row">
        <div style="float: left" class="col">
          <h4>{{ course.name }} Problems</h4>
        </div>
        <div style="float: right; text-align: right" class="col">
          <button
            type="button"
            class="btn btn-primary"
            (click)="handleOpenNewProblemModal()"
          >Add Problem
          </button>
        </div>
      </div>
    </div>
    <div class="divider-sm"></div>

    <table class="table table-striped">
      <thead>
      <tr>
        <th>Problem Name</th>
        <th>Difficulty</th>
        <th>Estimated Duration</th>
        <th>Creator</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr
        *ngFor="let problem of problems">
        <td>{{ problem.name }}</td>
        <td>{{problemDifficulty[problem.difficulty]}}</td>
        <td>{{ problem.estimatedDuration }} minutes</td>
        <td>
          <app-user-badge
            [user]="problem.creator">
          </app-user-badge>
        </td>
        <td>
          <div class="btn-group btn-group" data-toggle="buttons">
            <a class="btn btn-outline-secondary"
               routerLink="/courses/{{ course.id }}/problems/{{problem.id}}">View</a>
            <a class="btn btn-outline-secondary" [routerLink]=""
               (click)="handleOpenEditProblemModal(problem)">Modify</a>
            <a class="btn btn-outline-secondary" [routerLink]="">Delete</a>
          </div>
          <!--          <a class="btn btn-dark" routerLink="/courses/{{ course.id }}/problems/{{problem.id}}">View</a>-->
          <!--          <a class="btn btn-dark" [routerLink]="" (click)="handleOpenEditProblemModal(problem)">Modify</a>-->
          <!--          <a class="btn btn-dark" [routerLink]="" >Delete</a>-->
        </td>
      </tr>
      </tbody>
    </table>

  </ng-container>
</div>

<app-problem-edit
  [isVisible]="isEditProblemModalOpen"
  [problem]="selectedEditProblem"
  (onClose)="handleCloseEditProblemModal()"
></app-problem-edit>
